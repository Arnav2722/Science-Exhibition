{% extends 'testing.html' %}
{% block content %}
<div class="container">
    <div class="row" style="margin-bottom: 175px;">
        <div class="col-md-2"></div>
        <div class="col-md-8">
            <center>
                <h1>Liver Disease Predictor</h1>
            </center>
            <div class="card card-body" style="border: 1px solid black;">
                <form class="form-horizontal" action="{{ url_for('liverPredictPage') }}" method="POST">
                    <div class="row">
                        <div class="col-md-6">
                            <div class="form-group">
                                <input style="border: 1px solid black;" class="form-control" type="text" name="Age"
                                    placeholder="Age">
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group">
                                <input style="border: 1px solid black;" class="form-control" type="text"
                                    name="Total_Bilirubin" placeholder="Total Bilirubin">
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-6">
                            <div class="form-group">
                                <input style="border: 1px solid black;" class="form-control" type="text"
                                    name="Direct_Bilirubin" placeholder="Direct Bilirubin">
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group">
                                <input style="border: 1px solid black;" class="form-control" type="text"
                                    name="Alkaline_Phosphotase" placeholder="Alkaline Phosphotase">
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-6">
                            <div class="form-group">
                                <input style="border: 1px solid black;" class="form-control" type="text"
                                    name="Alamine_Aminotransferase" placeholder="Alamine Aminotransferase">
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group">
                                <input style="border: 1px solid black;" class="form-control" type="text"
                                    name="Aspartate_Aminotransferase" placeholder="Aspartate Aminotransferase">
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-6">
                            <div class="form-group">
                                <input style="border: 1px solid black;" class="form-control" type="text"
                                    name="Total_Protiens" placeholder="Total Protiens">
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group">
                                <input style="border: 1px solid black;" class="form-control" type="text" name="Albumin"
                                    placeholder="Albumin">
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-6">
                            <div class="form-group">
                                <input style="border: 1px solid black;" class="form-control" type="text"
                                    name="Albumin_and_Globulin_Ratio" placeholder="Albumin and Globulin Ratio">
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group">
                                <input style="border: 1px solid black;" class="form-control" type="text"
                                    name="Gender_Male" placeholder="Gender(Male: 1, Female: 0)">
                            </div>
                        </div>
                    </div>
                    <input type="submit" class="btn btn-info btn-block" value="Predict">
                </form>
            </div>
        </div>
        <div class="col-md-2"></div>
    </div>
</div>
<script>
    document.addEventListener("DOMContentLoaded", function () {
        document.getElementById("liverForm").addEventListener("submit", function (event) {
            if (!validateForm()) {
                event.preventDefault();
            }
        });
    });
    function validateInput(inputId, fieldName, type) {
        var input = document.getElementById(inputId);
        var value = input.value.trim();
        if (type === "numeric" && !/^\d+(\.\d+)?$/.test(value)) {
            alert("Please enter a valid numeric value for '" + fieldName + "'.");
            input.focus();
            return false;
        } else if (type === "gender" && !(value === "0" || value === "1")) {
            alert("Please enter a valid value for '" + fieldName + "'. (Male: 1, Female: 0)");
            input.focus();
            return false;
        }
        return true;
    }
    function validateForm() {
        var fields = [
            { id: "Age", type: "numeric" },
            { id: "Total_Bilirubin", type: "numeric" },
            { id: "Direct_Bilirubin", type: "numeric" },
            { id: "Alkaline_Phosphotase", type: "numeric" },
            { id: "Alamine_Aminotransferase", type: "numeric" },
            { id: "Aspartate_Aminotransferase", type: "numeric" },
            { id: "Total_Protiens", type: "numeric" },
            { id: "Albumin", type: "numeric" },
            { id: "Albumin_and_Globulin_Ratio", type: "numeric" },
            { id: "Gender_Male", type: "gender" }
        ];
        for (var i = 0; i < fields.length; i++) {
            if (!validateInput(fields[i].id, fields[i].id, fields[i].type)) {
                return false;
            }
        }
        return true;
    }
</script>
{% endblock %}